/*! For license information please see 777.95991d63f966deff2c1e.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatereeval_screenity(777,{5967:(t,e,r)=>{r.d(e,{A:()=>oe});var n=r(6540),o=r(3790),i=r.n(o);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function s(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var u=r(8597),l=new Map,d=function(t){return t.cloneNode(!0)},f=function(){return"file:"===window.location.protocol},p=function(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){try{if(!/\.svg/i.test(t)&&2===n.readyState){var e=n.getResponseHeader("Content-Type");if(!e)throw new Error("Content type not found");var o=(0,u.q)(e).type;if("image/svg+xml"!==o&&"text/plain"!==o)throw new Error("Invalid content type: ".concat(o))}if(4===n.readyState){if(404===n.status||null===n.responseXML)throw new Error(f()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(!(200===n.status||f()&&0===n.status))throw new Error("There was a problem injecting the SVG: "+n.status+" "+n.statusText);r(null,n)}}catch(t){if(n.abort(),!(t instanceof Error))throw t;r(t,n)}},n.open("GET",t),n.withCredentials=e,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.send()},m={},h=function(t,e){m[t]=m[t]||[],m[t].push(e)},v=function(t,e,r){if(l.has(t)){var n=l.get(t);if(void 0===n)return void h(t,r);if(n instanceof SVGSVGElement)return void r(null,d(n))}l.set(t,void 0),h(t,r),p(t,e,(function(e,r){var n;e?l.set(t,e):(null===(n=r.responseXML)||void 0===n?void 0:n.documentElement)instanceof SVGSVGElement&&l.set(t,r.responseXML.documentElement),function(t){for(var e=function(e,r){setTimeout((function(){if(Array.isArray(m[t])){var r=l.get(t),n=m[t][e];r instanceof SVGSVGElement&&n(null,d(r)),r instanceof Error&&n(r),e===m[t].length-1&&delete m[t]}}),0)},r=0,n=m[t].length;r<n;r++)e(r)}(t)}))},y=function(t,e,r){p(t,e,(function(t,e){var n;t?r(t):(null===(n=e.responseXML)||void 0===n?void 0:n.documentElement)instanceof SVGSVGElement&&r(null,e.responseXML.documentElement)}))},g=0,w=[],b={},E="http://www.w3.org/1999/xlink",x=function(t,e,r,n,o,i,a){var c=t.getAttribute("data-src")||t.getAttribute("src");if(c){if(-1!==w.indexOf(t))return w.splice(w.indexOf(t),1),void(t=null);w.push(t),t.setAttribute("src",""),(n?v:y)(c,o,(function(n,o){if(!o)return w.splice(w.indexOf(t),1),t=null,void a(n);var u=t.getAttribute("id");u&&o.setAttribute("id",u);var l=t.getAttribute("title");l&&o.setAttribute("title",l);var d=t.getAttribute("width");d&&o.setAttribute("width",d);var f=t.getAttribute("height");f&&o.setAttribute("height",f);var p=Array.from(new Set(s(s(s([],(o.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(t.getAttribute("class")||"").split(" "),!0))).join(" ").trim();o.setAttribute("class",p);var m=t.getAttribute("style");m&&o.setAttribute("style",m),o.setAttribute("data-src",c);var h=[].filter.call(t.attributes,(function(t){return/^data-\w[\w-]*$/.test(t.name)}));if(Array.prototype.forEach.call(h,(function(t){t.name&&t.value&&o.setAttribute(t.name,t.value)})),r){var v,y,x,S,T,k={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(k).forEach((function(t){v=t,x=k[t];for(var e=function(t,e){var r;S=y[t].id,T=S+"-"+ ++g,Array.prototype.forEach.call(x,(function(t){for(var e=0,n=(r=o.querySelectorAll("["+t+'*="'+S+'"]')).length;e<n;e++){var i=r[e].getAttribute(t);i&&!i.match(new RegExp('url\\("?#'+S+'"?\\)'))||r[e].setAttribute(t,"url(#"+T+")")}}));for(var n=o.querySelectorAll("[*|href]"),i=[],a=0,c=n.length;a<c;a++){var s=n[a].getAttributeNS(E,"href");s&&s.toString()==="#"+y[t].id&&i.push(n[a])}for(var u=0,l=i.length;u<l;u++)i[u].setAttributeNS(E,"href","#"+T);y[t].id=T},r=0,n=(y=o.querySelectorAll(v+"[id]")).length;r<n;r++)e(r)}))}o.removeAttribute("xmlns:a");for(var R,L,C=o.querySelectorAll("script"),M=[],O=0,A=C.length;O<A;O++)(L=C[O].getAttribute("type"))&&"application/ecmascript"!==L&&"application/javascript"!==L&&"text/javascript"!==L||((R=C[O].innerText||C[O].textContent)&&M.push(R),o.removeChild(C[O]));if(M.length>0&&("always"===e||"once"===e&&!b[c])){for(var P=0,N=M.length;P<N;P++)new Function(M[P])(window);b[c]=!0}var I=o.querySelectorAll("style");if(Array.prototype.forEach.call(I,(function(t){t.textContent+=""})),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("xmlns:xlink",E),i(o),!t.parentNode)return w.splice(w.indexOf(t),1),t=null,void a(new Error("Parent node is null"));t.parentNode.replaceChild(o,t),w.splice(w.indexOf(t),1),t=null,a(null,o)}))}else a(new Error("Invalid data-src or src attribute"))},S=r(5556),T=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],k="http://www.w3.org/2000/svg",R="http://www.w3.org/1999/xlink",L=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).initialState={hasError:!1,isLoading:!0},e.state=e.initialState,e._isMounted=!1,e.reactWrapper=void 0,e.nonReactWrapper=void 0,e.refCallback=function(t){e.reactWrapper=t},e}var r,o;o=t,(r=e).prototype=Object.create(o.prototype),r.prototype.constructor=r,c(r,o);var i=e.prototype;return i.renderSVG=function(){var t,e=this;if(this.reactWrapper instanceof(t=this.reactWrapper,((null==t?void 0:t.ownerDocument)||document).defaultView||window).Node){var r,n,o=this.props,i=o.desc,a=o.evalScripts,c=o.httpRequestWithCredentials,s=o.renumerateIRIElements,u=o.src,l=o.title,d=o.useRequestCache,f=this.props.onError,p=this.props.beforeInjection,m=this.props.afterInjection,h=this.props.wrapper;"svg"===h?((r=document.createElementNS(k,h)).setAttribute("xmlns",k),r.setAttribute("xmlns:xlink",R),n=document.createElementNS(k,h)):(r=document.createElement(h),n=document.createElement(h)),r.appendChild(n),n.dataset.src=u,this.nonReactWrapper=this.reactWrapper.appendChild(r);var v=function(t){e.removeSVG(),e._isMounted?e.setState((function(){return{hasError:!0,isLoading:!1}}),(function(){f(t)})):f(t)};!function(t,e){var r=void 0===e?{}:e,n=r.afterAll,o=void 0===n?function(){}:n,i=r.afterEach,a=void 0===i?function(){}:i,c=r.beforeEach,s=void 0===c?function(){}:c,u=r.cacheRequests,l=void 0===u||u,d=r.evalScripts,f=void 0===d?"never":d,p=r.httpRequestWithCredentials,m=void 0!==p&&p,h=r.renumerateIRIElements,v=void 0===h||h;if(t&&"length"in t)for(var y=0,g=0,w=t.length;g<w;g++)x(t[g],f,v,l,m,s,(function(e,r){a(e,r),t&&"length"in t&&t.length===++y&&o(y)}));else t?x(t,f,v,l,m,s,(function(e,r){a(e,r),o(1),t=null})):o(0)}(n,{afterEach:function(t,r){t?v(t):e._isMounted&&e.setState((function(){return{isLoading:!1}}),(function(){try{m(r)}catch(t){v(t)}}))},beforeEach:function(t){if(t.setAttribute("role","img"),i){var e=t.querySelector(":scope > desc");e&&t.removeChild(e);var r=document.createElement("desc");r.innerHTML=i,t.prepend(r)}if(l){var n=t.querySelector(":scope > title");n&&t.removeChild(n);var o=document.createElement("title");o.innerHTML=l,t.prepend(o)}try{p(t)}catch(t){v(t)}},cacheRequests:d,evalScripts:a,httpRequestWithCredentials:c,renumerateIRIElements:s})}},i.removeSVG=function(){var t;null!=(t=this.nonReactWrapper)&&t.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},i.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},i.componentDidUpdate=function(t){var e=this;(function(t,e){for(var r in t)if(!(r in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1})(a({},t),this.props)&&this.setState((function(){return e.initialState}),(function(){e.removeSVG(),e.renderSVG()}))},i.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},i.render=function(){var t=this.props;t.afterInjection,t.beforeInjection,t.desc,t.evalScripts;var e=t.fallback;t.httpRequestWithCredentials;var r=t.loading;t.renumerateIRIElements,t.src,t.title,t.useRequestCache;var o=t.wrapper,i=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,T),c=o;return n.createElement(c,a({},i,{ref:this.refCallback},"svg"===o?{xmlns:k,xmlnsXlink:R}:{}),this.state.isLoading&&r&&n.createElement(r,null),this.state.hasError&&e&&n.createElement(e,null))},e}(n.Component);L.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"},L.propTypes={afterInjection:S.func,beforeInjection:S.func,desc:S.string,evalScripts:S.oneOf(["always","once","never"]),fallback:S.oneOfType([S.func,S.object,S.string]),httpRequestWithCredentials:S.bool,loading:S.oneOfType([S.func,S.object,S.string]),onError:S.func,renumerateIRIElements:S.bool,src:S.string.isRequired,title:S.string,useRequestCache:S.bool,wrapper:S.oneOf(["div","span","svg"])};var C=r(9627);function M(t,e,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==t||t(n),!1===r||!n.defaultPrevented)return null==e?void 0:e(n)}}function O(...t){return e=>t.forEach((t=>function(t,e){"function"==typeof t?t(e):null!=t&&(t.current=e)}(t,e)))}function A(...t){return(0,n.useCallback)(O(...t),t)}function P(t,e=[]){let r=[];const o=()=>{const e=r.map((t=>(0,n.createContext)(t)));return function(r){const o=(null==r?void 0:r[t])||e;return(0,n.useMemo)((()=>({[`__scope${t}`]:{...r,[t]:o}})),[r,o])}};return o.scopeName=t,[function(e,o){const i=(0,n.createContext)(o),a=r.length;function c(e){const{scope:r,children:o,...c}=e,s=(null==r?void 0:r[t][a])||i,u=(0,n.useMemo)((()=>c),Object.values(c));return(0,n.createElement)(s.Provider,{value:u},o)}return r=[...r,o],c.displayName=e+"Provider",[c,function(r,c){const s=(null==c?void 0:c[t][a])||i,u=(0,n.useContext)(s);if(u)return u;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${e}\``)}]},N(o,...e)]}function N(...t){const e=t[0];if(1===t.length)return e;const r=()=>{const r=t.map((t=>({useScope:t(),scopeName:t.scopeName})));return function(t){const o=r.reduce(((e,{useScope:r,scopeName:n})=>({...e,...r(t)[`__scope${n}`]})),{});return(0,n.useMemo)((()=>({[`__scope${e.scopeName}`]:o})),[o])}};return r.scopeName=e.scopeName,r}const I=(0,n.forwardRef)(((t,e)=>{const{children:r,...o}=t,i=n.Children.toArray(r),c=i.find(D);if(c){const t=c.props.children,r=i.map((e=>e===c?n.Children.count(t)>1?n.Children.only(null):(0,n.isValidElement)(t)?t.props.children:null:e));return(0,n.createElement)(_,a({},o,{ref:e}),(0,n.isValidElement)(t)?(0,n.cloneElement)(t,void 0,r):null)}return(0,n.createElement)(_,a({},o,{ref:e}),r)}));I.displayName="Slot";const _=(0,n.forwardRef)(((t,e)=>{const{children:r,...o}=t;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...F(o,r.props),ref:e?O(e,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null}));_.displayName="SlotClone";const j=({children:t})=>(0,n.createElement)(n.Fragment,null,t);function D(t){return(0,n.isValidElement)(t)&&t.type===j}function F(t,e){const r={...e};for(const n in e){const o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...t)=>{i(...t),o(...t)}:o&&(r[n]=o):"style"===n?r[n]={...o,...i}:"className"===n&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}const V=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,e)=>{const r=(0,n.forwardRef)(((t,r)=>{const{asChild:o,...i}=t,c=o?I:e;return(0,n.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,n.createElement)(c,a({},i,{ref:r}))}));return r.displayName=`Primitive.${e}`,{...t,[e]:r}}),{});function G(t,e){t&&(0,C.flushSync)((()=>t.dispatchEvent(e)))}function W(t){const e=(0,n.useRef)(t);return(0,n.useEffect)((()=>{e.current=t})),(0,n.useMemo)((()=>(...t)=>{var r;if("function"==typeof(r=e.current))return null===(r=e.current)||void 0===r?void 0:r.call(e,...t)}),[])}const q="dismissableLayer.update";let U;const K=(0,n.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});function $(){const t=new CustomEvent(q);document.dispatchEvent(t)}function B(t,e,r,{discrete:n}){const o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?G(o,i):o.dispatchEvent(i)}const z=(0,n.forwardRef)(((t,e)=>{var r;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:s,onInteractOutside:u,onDismiss:l,...d}=t,f=(0,n.useContext)(K),[p,m]=(0,n.useState)(null),h=null!==(r=null==p?void 0:p.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=(0,n.useState)({}),y=A(e,(t=>m(t))),g=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),E=p?g.indexOf(p):-1,x=f.layersWithOutsidePointerEventsDisabled.size>0,S=E>=b,T=function(t,e=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=W(t),o=(0,n.useRef)(!1),i=(0,n.useRef)((()=>{}));return(0,n.useEffect)((()=>{const t=t=>{if(t.target&&!o.current){const n={originalEvent:t};function a(){B("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})}"touch"===t.pointerType?(e.removeEventListener("click",i.current),i.current=a,e.addEventListener("click",i.current,{once:!0})):a()}else e.removeEventListener("click",i.current);o.current=!1},n=window.setTimeout((()=>{e.addEventListener("pointerdown",t)}),0);return()=>{window.clearTimeout(n),e.removeEventListener("pointerdown",t),e.removeEventListener("click",i.current)}}),[e,r]),{onPointerDownCapture:()=>o.current=!0}}((t=>{const e=t.target,r=[...f.branches].some((t=>t.contains(e)));S&&!r&&(null==c||c(t),null==u||u(t),t.defaultPrevented||null==l||l())}),h),k=function(t,e=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=W(t),o=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{const t=t=>{t.target&&!o.current&&B("dismissableLayer.focusOutside",r,{originalEvent:t},{discrete:!1})};return e.addEventListener("focusin",t),()=>e.removeEventListener("focusin",t)}),[e,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((t=>{const e=t.target;[...f.branches].some((t=>t.contains(e)))||(null==s||s(t),null==u||u(t),t.defaultPrevented||null==l||l())}),h);return function(t,e=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=W(t);(0,n.useEffect)((()=>{const t=t=>{"Escape"===t.key&&r(t)};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}),[r,e])}((t=>{E===f.layers.size-1&&(null==i||i(t),!t.defaultPrevented&&l&&(t.preventDefault(),l()))}),h),(0,n.useEffect)((()=>{if(p)return o&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(U=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),$(),()=>{o&&1===f.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=U)}}),[p,h,o,f]),(0,n.useEffect)((()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),$())}),[p,f]),(0,n.useEffect)((()=>{const t=()=>v({});return document.addEventListener(q,t),()=>document.removeEventListener(q,t)}),[]),(0,n.createElement)(V.div,a({},d,{ref:y,style:{pointerEvents:x?S?"auto":"none":void 0,...t.style},onFocusCapture:M(t.onFocusCapture,k.onFocusCapture),onBlurCapture:M(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:M(t.onPointerDownCapture,T.onPointerDownCapture)}))})),Y=(0,n.forwardRef)(((t,e)=>{const r=(0,n.useContext)(K),o=(0,n.useRef)(null),i=A(e,o);return(0,n.useEffect)((()=>{const t=o.current;if(t)return r.branches.add(t),()=>{r.branches.delete(t)}}),[r.branches]),(0,n.createElement)(V.div,a({},t,{ref:i}))})),X=(0,n.forwardRef)(((t,e)=>{var r;const{container:o=(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body),...i}=t;return o?C.createPortal((0,n.createElement)(V.div,a({},i,{ref:e})),o):null})),H=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{},J=t=>{const{present:e,children:r}=t,o=function(t){const[e,r]=(0,n.useState)(),o=(0,n.useRef)({}),i=(0,n.useRef)(t),a=(0,n.useRef)("none"),c=t?"mounted":"unmounted",[s,u]=function(t,e){return(0,n.useReducer)(((t,r)=>{const n=e[t][r];return null!=n?n:t}),t)}(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,n.useEffect)((()=>{const t=Z(o.current);a.current="mounted"===s?t:"none"}),[s]),H((()=>{const e=o.current,r=i.current;if(r!==t){const n=a.current,o=Z(e);t?u("MOUNT"):"none"===o||"none"===(null==e?void 0:e.display)?u("UNMOUNT"):u(r&&n!==o?"ANIMATION_OUT":"UNMOUNT"),i.current=t}}),[t,u]),H((()=>{if(e){const t=t=>{const r=Z(o.current).includes(t.animationName);t.target===e&&r&&(0,C.flushSync)((()=>u("ANIMATION_END")))},r=t=>{t.target===e&&(a.current=Z(o.current))};return e.addEventListener("animationstart",r),e.addEventListener("animationcancel",t),e.addEventListener("animationend",t),()=>{e.removeEventListener("animationstart",r),e.removeEventListener("animationcancel",t),e.removeEventListener("animationend",t)}}u("ANIMATION_END")}),[e,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:(0,n.useCallback)((t=>{t&&(o.current=getComputedStyle(t)),r(t)}),[])}}(e),i="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),a=A(o.ref,i.ref);return"function"==typeof r||o.isPresent?(0,n.cloneElement)(i,{ref:a}):null};function Z(t){return(null==t?void 0:t.animationName)||"none"}J.displayName="Presence";const Q=(0,n.forwardRef)(((t,e)=>(0,n.createElement)(V.span,a({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})))),tt="ToastProvider",[et,rt,nt]=function(t){const e=t+"CollectionProvider",[r,o]=P(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=t+"CollectionSlot",s=t+"CollectionItemSlot",u="data-radix-collection-item";return[{Provider:t=>{const{scope:e,children:r}=t,o=n.useRef(null),a=n.useRef(new Map).current;return n.createElement(i,{scope:e,itemMap:a,collectionRef:o},r)},Slot:n.forwardRef(((t,e)=>{const{scope:r,children:o}=t,i=A(e,a(c,r).collectionRef);return n.createElement(I,{ref:i},o)})),ItemSlot:n.forwardRef(((t,e)=>{const{scope:r,children:o,...i}=t,c=n.useRef(null),l=A(e,c),d=a(s,r);return n.useEffect((()=>(d.itemMap.set(c,{ref:c,...i}),()=>{d.itemMap.delete(c)}))),n.createElement(I,{[u]:"",ref:l},o)}))},function(e){const r=a(t+"CollectionConsumer",e);return n.useCallback((()=>{const t=r.collectionRef.current;if(!t)return[];const e=Array.from(t.querySelectorAll(`[${u}]`));return Array.from(r.itemMap.values()).sort(((t,r)=>e.indexOf(t.ref.current)-e.indexOf(r.ref.current)))}),[r.collectionRef,r.itemMap])},o]}("Toast"),[ot,it]=P("Toast",[nt]),[at,ct]=ot(tt),st=t=>{const{__scopeToast:e,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=t,[s,u]=(0,n.useState)(null),[l,d]=(0,n.useState)(0),f=(0,n.useRef)(!1),p=(0,n.useRef)(!1);return(0,n.createElement)(et.Provider,{scope:e},(0,n.createElement)(at,{scope:e,label:r,duration:o,swipeDirection:i,swipeThreshold:a,toastCount:l,viewport:s,onViewportChange:u,onToastAdd:(0,n.useCallback)((()=>d((t=>t+1))),[]),onToastRemove:(0,n.useCallback)((()=>d((t=>t-1))),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p},c))};st.propTypes={label:t=>t.label&&"string"==typeof t.label&&!t.label.trim()?new Error(`Invalid prop \`label\` supplied to \`${tt}\`. Expected non-empty \`string\`.`):null};const ut=["F8"],lt="toast.viewportPause",dt="toast.viewportResume",ft=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,hotkey:o=ut,label:i="Notifications ({hotkey})",...c}=t,s=ct("ToastViewport",r),u=rt(r),l=(0,n.useRef)(null),d=(0,n.useRef)(null),f=(0,n.useRef)(null),p=(0,n.useRef)(null),m=A(e,p,s.onViewportChange),h=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;(0,n.useEffect)((()=>{const t=t=>{var e;o.every((e=>t[e]||t.code===e))&&(null===(e=p.current)||void 0===e||e.focus())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[o]),(0,n.useEffect)((()=>{const t=l.current,e=p.current;if(v&&t&&e){const r=()=>{if(!s.isClosePausedRef.current){const t=new CustomEvent(lt);e.dispatchEvent(t),s.isClosePausedRef.current=!0}},n=()=>{if(s.isClosePausedRef.current){const t=new CustomEvent(dt);e.dispatchEvent(t),s.isClosePausedRef.current=!1}},o=e=>{!t.contains(e.relatedTarget)&&n()},i=()=>{t.contains(document.activeElement)||n()};return t.addEventListener("focusin",r),t.addEventListener("focusout",o),t.addEventListener("pointermove",r),t.addEventListener("pointerleave",i),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{t.removeEventListener("focusin",r),t.removeEventListener("focusout",o),t.removeEventListener("pointermove",r),t.removeEventListener("pointerleave",i),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}}),[v,s.isClosePausedRef]);const y=(0,n.useCallback)((({tabbingDirection:t})=>{const e=u().map((e=>{const r=e.ref.current,n=[r,...Lt(r)];return"forwards"===t?n:n.reverse()}));return("forwards"===t?e.reverse():e).flat()}),[u]);return(0,n.useEffect)((()=>{const t=p.current;if(t){const e=e=>{const r=e.altKey||e.ctrlKey||e.metaKey;if("Tab"===e.key&&!r){const r=document.activeElement,a=e.shiftKey;var n;if(e.target===t&&a)return void(null===(n=d.current)||void 0===n||n.focus());const c=y({tabbingDirection:a?"backwards":"forwards"}),s=c.findIndex((t=>t===r));var o,i;Ct(c.slice(s+1))?e.preventDefault():a?null===(o=d.current)||void 0===o||o.focus():null===(i=f.current)||void 0===i||i.focus()}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}}),[u,y]),(0,n.createElement)(Y,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"}},v&&(0,n.createElement)(pt,{ref:d,onFocusFromOutsideViewport:()=>{Ct(y({tabbingDirection:"forwards"}))}}),(0,n.createElement)(et.Slot,{scope:r},(0,n.createElement)(V.ol,a({tabIndex:-1},c,{ref:m}))),v&&(0,n.createElement)(pt,{ref:f,onFocusFromOutsideViewport:()=>{Ct(y({tabbingDirection:"backwards"}))}}))})),pt=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...i}=t,c=ct("ToastFocusProxy",r);return(0,n.createElement)(Q,a({"aria-hidden":!0,tabIndex:0},i,{ref:e,style:{position:"fixed"},onFocus:t=>{var e;const r=t.relatedTarget;(null===(e=c.viewport)||void 0===e||!e.contains(r))&&o()}}))})),mt="Toast",ht=(0,n.forwardRef)(((t,e)=>{const{forceMount:r,open:o,defaultOpen:i,onOpenChange:c,...s}=t,[u=!0,l]=function({prop:t,defaultProp:e,onChange:r=(()=>{})}){const[o,i]=function({defaultProp:t,onChange:e}){const r=(0,n.useState)(t),[o]=r,i=(0,n.useRef)(o),a=W(e);return(0,n.useEffect)((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:e,onChange:r}),a=void 0!==t,c=a?t:o,s=W(r);return[c,(0,n.useCallback)((e=>{if(a){const r="function"==typeof e?e(t):e;r!==t&&s(r)}else i(e)}),[a,t,i,s])]}({prop:o,defaultProp:i,onChange:c});return(0,n.createElement)(J,{present:r||u},(0,n.createElement)(gt,a({open:u},s,{ref:e,onClose:()=>l(!1),onPause:W(t.onPause),onResume:W(t.onResume),onSwipeStart:M(t.onSwipeStart,(t=>{t.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:M(t.onSwipeMove,(t=>{const{x:e,y:r}=t.detail.delta;t.currentTarget.setAttribute("data-swipe","move"),t.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${e}px`),t.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)})),onSwipeCancel:M(t.onSwipeCancel,(t=>{t.currentTarget.setAttribute("data-swipe","cancel"),t.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),t.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),t.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),t.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:M(t.onSwipeEnd,(t=>{const{x:e,y:r}=t.detail.delta;t.currentTarget.setAttribute("data-swipe","end"),t.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),t.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),t.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${e}px`),t.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),l(!1)}))})))})),[vt,yt]=ot(mt,{onClose(){}}),gt=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:c,onClose:s,onEscapeKeyDown:u,onPause:l,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:h,...v}=t,y=ct(mt,r),[g,w]=(0,n.useState)(null),b=A(e,(t=>w(t))),E=(0,n.useRef)(null),x=(0,n.useRef)(null),S=i||y.duration,T=(0,n.useRef)(0),k=(0,n.useRef)(S),R=(0,n.useRef)(0),{onToastAdd:L,onToastRemove:O}=y,P=W((()=>{var t;(null==g?void 0:g.contains(document.activeElement))&&(null===(t=y.viewport)||void 0===t||t.focus()),s()})),N=(0,n.useCallback)((t=>{t&&t!==1/0&&(window.clearTimeout(R.current),T.current=(new Date).getTime(),R.current=window.setTimeout(P,t))}),[P]);(0,n.useEffect)((()=>{const t=y.viewport;if(t){const e=()=>{N(k.current),null==d||d()},r=()=>{const t=(new Date).getTime()-T.current;k.current=k.current-t,window.clearTimeout(R.current),null==l||l()};return t.addEventListener(lt,r),t.addEventListener(dt,e),()=>{t.removeEventListener(lt,r),t.removeEventListener(dt,e)}}}),[y.viewport,S,l,d,N]),(0,n.useEffect)((()=>{c&&!y.isClosePausedRef.current&&N(S)}),[c,S,y.isClosePausedRef,N]),(0,n.useEffect)((()=>(L(),()=>O())),[L,O]);const I=(0,n.useMemo)((()=>g?Tt(g):null),[g]);return y.viewport?(0,n.createElement)(n.Fragment,null,I&&(0,n.createElement)(wt,{__scopeToast:r,role:"status","aria-live":"foreground"===o?"assertive":"polite","aria-atomic":!0},I),(0,n.createElement)(vt,{scope:r,onClose:P},(0,C.createPortal)((0,n.createElement)(et.ItemSlot,{scope:r},(0,n.createElement)(z,{asChild:!0,onEscapeKeyDown:M(u,(()=>{y.isFocusedToastEscapeKeyDownRef.current||P(),y.isFocusedToastEscapeKeyDownRef.current=!1}))},(0,n.createElement)(V.li,a({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":y.swipeDirection},v,{ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:M(t.onKeyDown,(t=>{"Escape"===t.key&&(null==u||u(t.nativeEvent),t.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,P()))})),onPointerDown:M(t.onPointerDown,(t=>{0===t.button&&(E.current={x:t.clientX,y:t.clientY})})),onPointerMove:M(t.onPointerMove,(t=>{if(!E.current)return;const e=t.clientX-E.current.x,r=t.clientY-E.current.y,n=Boolean(x.current),o=["left","right"].includes(y.swipeDirection),i=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,a=o?i(0,e):0,c=o?0:i(0,r),s="touch"===t.pointerType?10:2,u={x:a,y:c},l={originalEvent:t,delta:u};n?(x.current=u,kt("toast.swipeMove",p,l,{discrete:!1})):Rt(u,y.swipeDirection,s)?(x.current=u,kt("toast.swipeStart",f,l,{discrete:!1}),t.target.setPointerCapture(t.pointerId)):(Math.abs(e)>s||Math.abs(r)>s)&&(E.current=null)})),onPointerUp:M(t.onPointerUp,(t=>{const e=x.current,r=t.target;if(r.hasPointerCapture(t.pointerId)&&r.releasePointerCapture(t.pointerId),x.current=null,E.current=null,e){const r=t.currentTarget,n={originalEvent:t,delta:e};Rt(e,y.swipeDirection,y.swipeThreshold)?kt("toast.swipeEnd",h,n,{discrete:!0}):kt("toast.swipeCancel",m,n,{discrete:!0}),r.addEventListener("click",(t=>t.preventDefault()),{once:!0})}}))})))),y.viewport))):null}));gt.propTypes={type:t=>t.type&&!["foreground","background"].includes(t.type)?new Error(`Invalid prop \`type\` supplied to \`${mt}\`. Expected \`foreground | background\`.`):null};const wt=t=>{const{__scopeToast:e,children:r,...o}=t,i=ct(mt,e),[a,c]=(0,n.useState)(!1),[s,u]=(0,n.useState)(!1);return function(t=(()=>{})){const e=W(t);H((()=>{let t=0,r=0;return t=window.requestAnimationFrame((()=>r=window.requestAnimationFrame(e))),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}}),[e])}((()=>c(!0))),(0,n.useEffect)((()=>{const t=window.setTimeout((()=>u(!0)),1e3);return()=>window.clearTimeout(t)}),[]),s?null:(0,n.createElement)(X,{asChild:!0},(0,n.createElement)(Q,o,a&&(0,n.createElement)(n.Fragment,null,i.label," ",r)))},bt=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,...o}=t;return(0,n.createElement)(V.div,a({},o,{ref:e}))})),Et=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,...o}=t;return(0,n.createElement)(V.div,a({},o,{ref:e}))}));(0,n.forwardRef)(((t,e)=>{const{altText:r,...o}=t;return r?(0,n.createElement)(St,{altText:r,asChild:!0},(0,n.createElement)(xt,a({},o,{ref:e}))):null})).propTypes={altText:t=>t.altText?null:new Error("Missing prop `altText` expected on `ToastAction`")};const xt=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,...o}=t,i=yt("ToastClose",r);return(0,n.createElement)(St,{asChild:!0},(0,n.createElement)(V.button,a({type:"button"},o,{ref:e,onClick:M(t.onClick,i.onClose)})))})),St=(0,n.forwardRef)(((t,e)=>{const{__scopeToast:r,altText:o,...i}=t;return(0,n.createElement)(V.div,a({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0},i,{ref:e}))}));function Tt(t){const e=[];return Array.from(t.childNodes).forEach((t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&e.push(t.textContent),function(t){return t.nodeType===t.ELEMENT_NODE}(t)){const r=t.ariaHidden||t.hidden||"none"===t.style.display,n=""===t.dataset.radixToastAnnounceExclude;if(!r)if(n){const r=t.dataset.radixToastAnnounceAlt;r&&e.push(r)}else e.push(...Tt(t))}})),e}function kt(t,e,r,{discrete:n}){const o=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?G(o,i):o.dispatchEvent(i)}const Rt=(t,e,r=0)=>{const n=Math.abs(t.x),o=Math.abs(t.y),i=n>o;return"left"===e||"right"===e?i&&n>r:!i&&o>r};function Lt(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ct(t){const e=document.activeElement;return t.some((t=>t===e||(t.focus(),document.activeElement!==e)))}const Mt=st,Ot=ft,At=ht,Pt=bt,Nt=Et,It=xt;function _t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const Dt=function(){var t=_t((0,n.useState)(!1),2),e=t[0],r=t[1],o=_t((0,n.useState)("Record computer audio"),2),i=o[0],a=o[1],c=_t((0,n.useState)(""),2),s=c[0],u=c[1],l=_t((0,n.useState)(1e4),2),d=l[0],f=l[1],p=(0,n.useCallback)((function(t,e,n){a(t),u(e),f(n),r(!0)}),[]);return(0,n.useEffect)((function(){-1!==navigator.userAgent.indexOf("Mac")?p(chrome.i18n.getMessage("recordAudioWarningMacTitle"),chrome.i18n.getMessage("recordAudioWarningMacDescription"),1e4):p(chrome.i18n.getMessage("recordAudioWarningOtherTitle"),chrome.i18n.getMessage("recordAudioWarningOtherDescription"),1e4)}),[]),n.createElement(Mt,{swipeDirection:"down",duration:d},n.createElement(At,{className:"warning-root",open:e,onOpenChange:r,onSwipeEnd:function(){r(!1)}},n.createElement("div",{className:"warning-icon"},n.createElement(L,{src:chrome.runtime.getURL("assets/tool-icons/audio-icon.svg"),width:20,height:20})),n.createElement("div",{className:"warning-content"},n.createElement(Pt,{className:"warning-title"},i),n.createElement(Nt,{className:"warning-description"},s)),n.createElement(It,{className:"warning-close",onClick:function(){r(!1)}},n.createElement(L,{src:chrome.runtime.getURL("assets/camera-icons/close.svg"),width:20,height:20}))),n.createElement(Ot,{className:"WarningViewport"}),n.createElement("style",null,'\n\n\t\t\t\tbutton {\n\t\t\t\t\tall: unset;\n\t\t\t\t}\n\t\t\t\t.WarningViewport {\n\t\t\t\t\t--viewport-padding: 25px;\n\t\t\t\t\tposition: fixed;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tmargin: auto !important;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tpadding: var(--viewport-padding);\n\t\t\t\t\tgap: 14px;\n\t\t\t\t\tmax-width: 100vw;\n\t\t\t\t\twidth: fit-content;\n\t\t\t\t\tlist-style: none;\n\t\t\t\t\tz-index: 2147483647;\n\t\t\t\t\toutline: none;\n\t\t\t\t\tpointer-events: all !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.warning-root {\n\t\t\t\t\tbackground-color: #29292F;\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\tbox-shadow: hsl(206 22% 7% / 35%) 0px 10px 38px -10px,\n\t\t\t\t\t\thsl(206 22% 7% / 20%) 0px 10px 20px -15px;\n\t\t\t\t\tpadding: 14px 20px;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tgap: 8px;\n\t\t\t\t\tfont-size: 15px;\n\t\t\t\t\tline-height: 1.5;\n\t\t\t\t\tmax-width: 500px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\talign-items: flex-start;\n\t\t\t\t}\n\t\t\t\t.warning-content {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: left;\n\t\t\t\t\talign-items: flex-start;\n\t\t\t\t\tgap: 8px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t\t.warning-root[data-state="open"] {\n\t\t\t\t\tanimation: slideIn2 150ms cubic-bezier(0.16, 1, 0.3, 1);\n\t\t\t\t}\n\t\t\t\t.warning-root[data-state="closed"] {\n\t\t\t\t\tanimation: hide 100ms ease-in;\n\t\t\t\t}\n\t\t\t\t.warning-root[data-swipe="move"] {\n\t\t\t\t\ttransform: translateY(var(--radix-toast-swipe-move-y));\n\t\t\t\t}\n\t\t\t\t.warning-root[data-swipe="cancel"] {\n\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\ttransition: transform 200ms ease-out;\n\t\t\t\t}\n\t\t\t\t.warning-root[data-swipe="end"] {\n\t\t\t\t\tanimation: swipeOut2 100ms ease-out;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@keyframes hide {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 0 !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@keyframes slideIn2 {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translateY(calc(100% + var(--viewport-padding)));\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@keyframes swipeOut2 {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translateY(var(--radix-toast-swipe-end-y));\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translateY(calc(100% + var(--viewport-padding)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.warning-title {\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\tfont-family: "Satoshi-Medium", sans-serif;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.warning-description {\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\topacity: 0.8;\n\t\t\t\t\tfont-family: "Satoshi-Medium", sans-serif;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.ToastAction {\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\tfont-family: "Satoshi-Medium", sans-serif;\n\t\t\t\t\ttext-align: right;\n\t\t\t\t\tbackground-color: #51515f;\n\t\t\t\t\tpadding: 0px 12px !important;\n\t\t\t\t\theight: 24px !important;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\t\t\t\t.warning-close {\n\t\t\t\t\tz-index: 999999;\n\t\t\t\t}\n\t\t\t\t.warning-close:hover {\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\t\t\t\t'))};function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Vt(t,e,r){var n;return n=function(t,e){if("object"!=Ft(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==Ft(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Gt="productions",Wt="video_templates",qt="video_clips",Ut="voice_clips",Kt="assets",$t=(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt(Vt({},"pages","/pages"),"stories","/stories"),Gt,"/productions"),Wt,"/video_templates"),qt,"/video_clips"),Ut,"/voice_clips"),Kt,"/assets"),"voice_names","/voice_names"),"font_names","/font_names"),Vt(Vt(Vt(Vt(Vt({},Gt,"production"),Wt,"video_template"),qt,"video_clip"),Ut,"voice_clip"),Kt,"asset"),"reeval.msg.cancel.recording");function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function zt(t,e,r){var n;return n=function(t,e){if("object"!=Bt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e),(e="symbol"==Bt(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yt(){Yt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(n||[]);return o(a,"_invoke",{value:R(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function y(){}function g(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,a)&&(b=x);var S=w.prototype=y.prototype=Object.create(b);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=d(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Bt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function R(e,r,n){var o=f;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(e,r,n);if("normal"===u.type){if(o=n.done?h:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Bt(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},T(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(S),u(S,s,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Xt(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Ht(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xt(i,n,o,a,c,"next",t)}function c(t){Xt(i,n,o,a,c,"throw",t)}a(void 0)}))}}Ht(Yt().mark((function t(e){var r,n;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get(e);case 2:return r=t.sent,n=r[e],t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),Ht(Yt().mark((function t(e,r){return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.set(zt({},e,r));case 2:case"end":return t.stop()}}),t)}))),Ht(Yt().mark((function t(e){return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.remove(e);case 2:case"end":return t.stop()}}),t)})));var Jt=r(2543);function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function Qt(){Qt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(n||[]);return o(a,"_invoke",{value:R(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function y(){}function g(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,a)&&(b=x);var S=w.prototype=y.prototype=Object.create(b);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,c){var s=d(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Zt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function R(e,r,n){var o=f;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=d(e,r,n);if("normal"===u.type){if(o=n.done?h:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Zt(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},T(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(S),u(S,s,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function te(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ee(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){te(i,n,o,a,c,"next",t)}function c(t){te(i,n,o,a,c,"throw",t)}a(void 0)}))}}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i().config({driver:i().INDEXEDDB,name:"screenity",version:1});var ne=i().createInstance({name:"chunks"});const oe=function(){var t,e,r=(0,n.useRef)(!1),o=(0,n.useRef)(!1),i=(0,n.useRef)(!1),a=(0,n.useRef)(0),c=(0,n.useRef)(!1),s=(0,n.useRef)(0),u=(t=(0,n.useState)(!1),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return re(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],d=u[1],f=(0,n.useRef)(null),p=(0,n.useRef)(null),m=(0,n.useRef)(null),h=(0,n.useRef)(null),v=(0,n.useRef)(null),y=(0,n.useRef)(null),g=(0,n.useRef)(null),w=(0,n.useRef)(null),b=(0,n.useRef)(null),E=(0,n.useRef)(null),x=(0,n.useRef)(!1),S=(0,n.useRef)(null),T=(0,n.useRef)(!1),k=(0,n.useRef)(!1);function R(){return R=ee(Qt().mark((function t(){var e,n,u,l,d,m,h;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===E.current){t.next=2;break}return t.abrupt("return");case 2:if(navigator.storage.persist(),0!==p.current.getVideoTracks().length){t.next=6;break}return chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:"No video tracks available"}),t.abrupt("return");case 6:return ne.clear(),a.current=0,c.current=0,t.prev=9,t.next=12,chrome.storage.local.get(["qualityValue"]);case 12:if(e=t.sent,n=e.qualityValue,u=128e3,l=5e6,"4k"===n?(u=192e3,l=4e7):"1080p"===n?(u=192e3,l=8e6):"720p"===n?(u=128e3,l=5e6):"480p"===n?(u=96e3,l=25e5):"360p"===n?(u=96e3,l=1e6):"240p"===n&&(u=64e3,l=5e5),d=["video/webm;codecs=avc1","video/webm;codecs=vp8,opus","video/webm;codecs=vp9,opus","video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm;codecs=h264","video/webm"].find((function(t){return MediaRecorder.isTypeSupported(t)}))){t.next=22;break}return chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:"No supported mimeTypes available"}),t.abrupt("return");case 22:E.current=new MediaRecorder(f.current,{mimeType:d,audioBitsPerSecond:u,videoBitsPerSecond:l}),t.next=29;break;case 25:return t.prev=25,t.t0=t.catch(9),chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:JSON.stringify(t.t0)}),t.abrupt("return");case 29:chrome.storage.local.set({recording:!0,restarting:!1}),r.current=!1,s.current=0,t.prev=32,E.current.start(3e3),t.next=40;break;case 36:return t.prev=36,t.t1=t.catch(32),chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:JSON.stringify(t.t1)}),t.abrupt("return");case 40:E.current.onstop=function(t){r.current||(setTimeout((function(){i.current||(chrome.runtime.sendMessage({type:"video-ready"}),o.current=!1)}),3e3),r.current=!1)},m=function(){try{navigator.storage.estimate().then((function(t){t.quota<26214400&&(chrome.storage.local.set({recording:!1,restarting:!1,tabRecordedID:null,memoryError:!0}),chrome.runtime.sendMessage({type:"stop-recording-tab"}))}))}catch(t){chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:JSON.stringify(t)})}},h=function(){var t=ee(Qt().mark((function t(e){var r;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(),!(e.data.size>0&&e.timecode)){t.next=26;break}if(t.prev=2,r=e.timecode,!1!==c.current){t.next=9;break}c.current=!0,a.current=r,t.next=14;break;case 9:if(!(r<a.current)){t.next=13;break}return t.abrupt("return");case 13:a.current=r;case 14:return t.next=16,ne.setItem("chunk_".concat(s.current),{index:s.current,chunk:e.data,timestamp:r});case 16:k.current&&chrome.runtime.sendMessage({type:"write-file",index:s.current}),s.current++,t.next=24;break;case 20:t.prev=20,t.t0=t.catch(2),chrome.storage.local.set({recording:!1,restarting:!1,tabRecordedID:null,memoryError:!0}),chrome.runtime.sendMessage({type:"stop-recording-tab"});case 24:t.next=27;break;case 26:"inactive"===E.current.state&&(chrome.storage.local.set({recording:!1,restarting:!1,tabRecordedID:null}),chrome.runtime.sendMessage({type:"stop-recording-tab"}));case 27:if(!o.current){t.next=31;break}return i.current=!0,t.next=31,chrome.runtime.sendMessage({type:"video-ready",options:"ssss"});case 31:case"end":return t.stop()}}),t,null,[[2,20]])})));return function(e){return t.apply(this,arguments)}}(),E.current.ondataavailable=function(){var t=ee(Qt().mark((function t(e){return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f.current.getVideoTracks()[0].onended=function(){chrome.storage.local.set({recording:!1,restarting:!1,tabRecordedID:null}),chrome.runtime.sendMessage({type:"stop-recording-tab"})},p.current.getVideoTracks()[0].onended=function(){chrome.storage.local.set({recording:!1,restarting:!1,tabRecordedID:null}),chrome.runtime.sendMessage({type:"stop-recording-tab"})};case 46:case"end":return t.stop()}}),t,null,[[9,25],[32,36]])}))),R.apply(this,arguments)}function L(){return(L=ee(Qt().mark((function t(){return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.current=!0,null!==E.current&&(E.current.stop(),E.current=null),null!==f.current&&(f.current.getTracks().forEach((function(t){t.stop()})),f.current=null),null!==p.current&&(p.current.getTracks().forEach((function(t){t.stop()})),p.current=null),null!==m.current&&(m.current.getTracks().forEach((function(t){t.stop()})),m.current=null);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,n.useEffect)((function(){chrome.storage.local.get(["backup"],(function(t){t.backup?k.current=!0:k.current=!1}))}),[]);var C=function(){var t=ee(Qt().mark((function t(){return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.current=!0,null!==E.current&&(E.current.stop(),E.current=null),window.close();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=ee(Qt().mark((function t(){return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.current=!0,null!==E.current&&E.current.stop(),E.current=null,chrome.runtime.sendMessage({type:"new-sandbox-page-restart"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function O(t){return A.apply(this,arguments)}function A(){return(A=ee(Qt().mark((function t(e){var r,n;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={mimeType:"video/webm;codecs=vp8,opus",audio:{deviceId:{exact:e}}},t.next=3,navigator.mediaDevices.getUserMedia(r).then((function(t){return t})).catch((function(t){return navigator.mediaDevices.getUserMedia({mimeType:"video/webm;codecs=vp8,opus",audio:!0}).then((function(t){return t})).catch((function(t){return null}))}));case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){w.current.gain.value=t}var N=function(){var t=ee(Qt().mark((function t(e){return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!=m.current&&(e.active?P(1):P(0));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function I(t,e,r,n,o){return _.apply(this,arguments)}function _(){return(_=ee(Qt().mark((function t(e,r,n,o,i){var a,c,s,u,l,E,S,T,k,R,L,C,M,A;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get(["qualityValue"]);case 2:return a=t.sent,c=a.qualityValue,s=1920,u=1080,"4k"===c?(s=4096,u=2160):"1080p"===c?(s=1920,u=1080):"720p"===c?(s=1280,u=720):"480p"===c?(s=854,u=480):"360p"===c?(s=640,u=360):"240p"===c&&(s=426,u=240),t.next=9,chrome.storage.local.get(["fpsValue"]);case 9:if(l=t.sent,E=l.fpsValue,S=parseInt(E,10),isNaN(S)&&(S=30),T={audio:{deviceId:e.defaultAudioInput},video:{deviceId:e.defaultVideoInput,width:{ideal:s},height:{ideal:u},frameRate:{ideal:S}}},"denied"===o.state&&(T.video=!1),"denied"===i.state&&(T.audio=!1),"denied"===o.state||"denied"===i.state||"camera"!==e.recordingType){t.next=20;break}return t.next=19,navigator.mediaDevices.getUserMedia(T);case 19:k=t.sent;case 20:if("camera"!==e.recordingType){t.next=24;break}p.current=k,t.next=42;break;case 24:return R={audio:{mandatory:{chromeMediaSource:x.current?"tab":"desktop",chromeMediaSourceId:r}},video:{mandatory:{chromeMediaSource:x.current?"tab":"desktop",chromeMediaSourceId:r,maxWidth:s,maxHeight:u,maxFrameRate:S}}},t.prev=25,t.next=28,navigator.mediaDevices.getUserMedia(R);case 28:if(0!==(L=t.sent).getVideoTracks().length){t.next=32;break}return chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:"No video tracks available"}),t.abrupt("return");case 32:t.next=38;break;case 34:return t.prev=34,t.t0=t.catch(25),chrome.runtime.sendMessage({type:"recording-error",error:"stream-error",why:JSON.stringify(t.t0)}),t.abrupt("return");case 38:x.current&&(C=new AudioContext).createMediaStreamSource(L).connect(C.destination),p.current=L,M=L.getVideoTracks()[0].getSettings().displaySurface,chrome.runtime.sendMessage({type:"set-surface",surface:M});case 42:return h.current=new AudioContext,v.current=h.current.createMediaStreamDestination(),f.current=new MediaStream,t.next=47,O(e.defaultAudioInput);case 47:A=t.sent,m.current=A,!(0,Jt.isNil)(m.current)&&m.current.getAudioTracks().length>0&&(w.current=h.current.createGain(),y.current=h.current.createMediaStreamSource(m.current),y.current.connect(w.current).connect(v.current)),(0,Jt.isNil)(m.current)||e.micActive||P(0),p.current.getAudioTracks().length>0&&(b.current=h.current.createGain(),g.current=h.current.createMediaStreamSource(p.current),g.current.connect(b.current).connect(v.current)),f.current.addTrack(p.current.getVideoTracks()[0]),(null!=m.current&&m.current.getAudioTracks().length>0||p.current.getAudioTracks().length>0)&&f.current.addTrack(v.current.stream.getAudioTracks()[0]),d(!0),chrome.runtime.sendMessage({type:"reset-active-tab"});case 56:case"end":return t.stop()}}),t,null,[[25,34]])})))).apply(this,arguments)}function j(){return(j=ee(Qt().mark((function t(e){var r,n,o;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.permissions.query({name:"camera"});case 2:return r=t.sent,t.next=5,navigator.permissions.query({name:"microphone"});case 5:n=t.sent;try{"camera"===e.recordingType?I(e,null,null,r,n):x.current?I(e,S.current,null,r,n):(o=["screen"],chrome.desktopCapture.chooseDesktopMedia(o,null,(function(t,o){if(null==t||""===t)return chrome.runtime.sendMessage({type:"recording-error",error:"cancel-modal",why:"User cancelled the modal"}),void chrome.runtime.sendMessage({type:$t});chrome.runtime.sendMessage({type:"reeval.storyboard.run.recoding",options:null==e?void 0:e.ReEvalProductionOption}),I(e,t,o,r,n)})))}catch(t){chrome.runtime.sendMessage({type:"recording-error",error:"cancel-modal",why:JSON.stringify(t)})}case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,n.useEffect)((function(){chrome.storage.local.get(["tabPreferred"],(function(t){T.current=t.tabPreferred}))}),[]);var D=function(){var t=ee(Qt().mark((function t(e){var r;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.tabCapture.getMediaStreamId({targetTabId:e});case 2:r=t.sent,S.current=r;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=(0,n.useCallback)((function(t,e,r){if("loaded"===t.type&&(k.current=t.backup,T.current?x.current=!1:(x.current=t.isTab,t.isTab&&D(t.tabID)),chrome.runtime.sendMessage({type:"get-streaming-data"})),"streaming-data"===t.type)!function(t){j.apply(this,arguments)}(JSON.parse(t.data));else if("start-recording-tab"===t.type)!function(){R.apply(this,arguments)}();else if("restart-recording-tab"===t.type)M();else if("stop-recording-tab"===t.type)!function(){L.apply(this,arguments)}();else if("set-mic-active-tab"===t.type)N(t);else if("set-audio-output-volume"===t.type)n=t.volume,b.current.gain.value=n;else if("pause-recording-tab"===t.type){if(!E.current)return;E.current.pause()}else if("resume-recording-tab"===t.type){if(!E.current)return;E.current.resume()}else"dismiss-recording"===t.type&&C();var n}),[E.current,T.current]);return(0,n.useEffect)((function(){return chrome.runtime.onMessage.addListener(F),function(){chrome.runtime.onMessage.removeListener(F)}}),[]),n.createElement("div",{className:"wrap"},n.createElement("img",{className:"logo",src:chrome.runtime.getURL("assets/logo-text.svg")}),n.createElement("div",{className:"middle-area"},n.createElement("img",{src:chrome.runtime.getURL("assets/record-tab-active.svg")}),n.createElement("div",{className:"title"},l?chrome.i18n.getMessage("recorderSelectProgressTitle"):chrome.i18n.getMessage("recorderSelectTitle")),n.createElement("div",{className:"subtitle"},chrome.i18n.getMessage("recorderSelectDescription"))),!x.current&&!l&&n.createElement(Dt,null),n.createElement("div",{className:"setupBackgroundSVG"}),n.createElement("style",null,"\n\t\t\t\tbody {\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t\t.button-stop {\n\t\t\t\t\tpadding: 10px 20px;\n\t\t\t\t\tbackground: #FFF;\n\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\tcolor: #29292F;\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tmargin-top: 0px;\n\t\t\t\t\tborder: 1px solid #E8E8E8;\n\t\t\t\t\tmargin-left: auto;\n\t\t\t\t\tmargin-right: auto;\n\t\t\t\t\tz-index: 999999;\n\t\t\t\t}\n\t\t\t\t.setupBackgroundSVG {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0px;\n\t\t\t\t\tleft: 0px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight:100%;\n\t\t\t\t\tbackground: url('"+chrome.runtime.getURL("assets/helper/pattern-svg.svg")+'\') repeat;\n\t\t\t\t\tbackground-size: 62px 23.5px;\n\t\t\t\t\tanimation: moveBackground 138s linear infinite;\n\t\t\t\t\ttransform: rotate(0deg);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@keyframes moveBackground {\n\t\t\t\t\t0% {\n\t\t\t\t\t\tbackground-position: 0 0;\n\t\t\t\t\t}\n\t\t\t\t\t100% {\n\t\t\t\t\t\tbackground-position: 100% 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.logo {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 30px;\n\t\t\t\t\tleft: 0px;\n\t\t\t\t\tright: 0px;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\twidth: 120px;\n\t\t\t\t}\n\t\t\t\t.wrap {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tbackground-color: #F6F7FB;\n\t\t\t\t}\n\t\t\t\t\t.middle-area {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tfont-family: "Satoshi Medium", sans-serif;\n\t\t\t\t\t}\n\t\t\t\t\t.middle-area img {\n\t\t\t\t\t\twidth: 40px;\n\t\t\t\t\t\tmargin-bottom: 20px;\n\t\t\t\t\t}\n\t\t\t\t\t.title {\n\t\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\t\tfont-weight: 700;\n\t\t\t\t\t\tcolor: #1A1A1A;\n\t\t\t\t\t\tmargin-bottom: 14px;\n\t\t\t\t\t\tfont-family: Satoshi-Medium, sans-serif;\n\t\t\t\t\t}\n\t\t\t\t\t.subtitle {\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\t\tcolor: #6E7684;\n\t\t\t\t\t\tmargin-bottom: 24px;\n\t\t\t\t\t\tfont-family: Satoshi-Medium, sans-serif;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t'))}}},(function(t){t.h=()=>"077efd06f44624c30b42"}));
//# sourceMappingURL=777.95991d63f966deff2c1e.hot-update.js.map